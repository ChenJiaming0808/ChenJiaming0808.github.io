# int 和 Integer 有什么区别，Integer的值缓存范围
## 一、int 和 Integer 的区别
1. Integer 是 int 的包装类，int 是 Java 的一种基本的数据类型。
2. Integer 变量必须实例化后才能使用，而 int 变量不需要。
3. Integer 变量储存的是 Integer 对象的引用，int 变量直接储存数据值。
4. Integer 变量的默认值是 null，int 变量的默认值是0。
## 二、int 和 Integer 的比较
1. 由于 Integer 变量实际上是对一个 Integer 对象的引用，所以两个通过 new 生成的 Integer 变量永远是不相等的（因为 new 生成的是两个对象，其内存地址不同）。
```java
Integer i = new Integer(100);
Integer j = new Integer(100);
System.out.println(i == j);//false
```
2. Integer 变量和 int 变量比较时，只要两个变量的值是向等的，则结果为 true（因为包装类 Integer 和基本数据类型 int 比较时，Java 会自动拆包装为 int，然后进行比较，实际上就变为两个 int 变量的比较）。
```java
Integer i = new Integer(100);
int j = 100;
System.out.println(i == j);//true
```
3. 非 new 生成的 Integer 变量和 new Integer()生成的变量比较时，结果为 false。（因为非 new 生成的 Integer 变量指向的是 Java 常量池中的对象，而 new Integer()生成的变量指向堆中新建的对象，两者在内存中的地址不同）。
```java
Integer i = new Integer(100);
Integer j = 100;
System.out.println(i == j);//false
```
4. 对于两个非 new 生成的 Integer 对象，进行比较时，如果两个变量的值在区间-128到127之间，则比较结果为 true，如果两个变量的值不在此区间，则比较结果为 false。**Java 在编译 Integer i = 100;时，会翻译成为 Integer i = Integer.valueOf(100);而 java API 中对 Integer 类型的 valueOf 的定义如下：**
```java
public static Integer valueOf(int i) {
    assert IntegerCache.high >= 127;
    if (i >= IntegerCache.low && i <= IntegerCache.high) {
        return IntegerCache.cache[i + (-IntegerCache.low)];
    }
    return new Integer(i);
}
```
**Java 对于-128到127之间的数，会进行缓存，Integer i = 127时，会将127进行缓存，下次再写 Integer j = 127时，就会直接从缓存中取，就不会 new 了。对于在-128到127之间的 Integer 变量，它们可以用"=="来比较，在缓存范围之外的可以用"equal"来比较。**
```java
Integer i = 100;
Integer j = 100;
System.out.println(i == j);//true

Integer i = 128;
Integer j = 128;
System.out.println(i == j);//false

Integer i = 128;
Integer j = 128;
System.out.println(i.equals(j));//true
```